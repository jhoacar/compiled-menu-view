(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var r,n=a(2),i=a.n(n),c=a(5),s=a.n(c),o=a(3),l=a(4),u=a(6),d=a(16),p="srcImages",g="srcImage",j=window.indexedDB,b=function(e,t,a){var r=new FileReader;fetch(e).then((function(e){return e.blob()})).then((function(e){e.type.includes("image")||a("La respuesta fue texto, no se cargara el recurso"),e.type.includes("image")&&(r.onload=function(e){var a=e.target.result;t(a)},r.readAsDataURL(e))})).catch((function(e){return a(e)}))},m=function(e){return new Promise((function(t,a){j||a("No admite indexedDB");var n=j.open("imagesMenu",1);n.onsuccess=function(){r=n.result,function(e){return new Promise((function(t,a){var n=r.transaction([p],"readonly").objectStore(p).get(e);n.onerror=function(){return a("Ocurrio algo al leer en la base de datos")},n.onsuccess=function(e){n.result?t(n.result.dataImage):a("No se encontro la imagen en la base de datos")}}))}(e).then((function(e){t(e)})).catch((function(){b(e,(function(a){!function(e,t){var a={};a.srcImage=e,a.dataImage=t;var n=r.transaction([p],"readwrite").objectStore(p);try{var i=n.add(a);i.onerror=function(e){},i.onsuccess=function(e){}}catch(c){console.log(c)}}(e,a),t(a)}),(function(e){return a(e)}))}))},n.onupgradeneeded=function(e){(r=e.target.result).createObjectStore(p,{keyPath:g})},n.onerror=function(r){b(e,(function(e){return t(e)}),(function(e){return a(e)}))}}))},f=(a(27),a(15)),v=a(8),h=a(12),y=a(1),O=function(e){var t=e.listImages,a=e.className,r=e.setVisibleImage,i=e.marginCategory,c=e.firstImage,s=Object(n.useState)(!1),o=Object(l.a)(s,2),u=(o[0],o[1],Object(n.useState)(0)),d=Object(l.a)(u,2),p=d[0],g=d[1],j=Object(n.useState)(-1),b=Object(l.a)(j,2),f=(b[0],b[1],Object(n.useState)([c])),O=Object(l.a)(f,2),x=O[0],N=O[1],C=Object(n.useState)(1),w=Object(l.a)(C,2),I=w[0],P=w[1],S=null===x||void 0===x?void 0:x.length;Object(n.useEffect)((function(){I<t.length&&(m("/images/"+t[I]).then((function(e){return N((function(t){return[].concat(Object(v.a)(t),[e])}))})).catch((function(e){return console.log(e)})),P(I+1))}),[t,I]);var A=function(){var e=p;x&&p<x.length-1?e+=1:x&&p===x.length-1&&(e=0),g(e)},k=function(){var e=p;x&&p>0?e-=1:x&&0===p&&(e=x.length-1),g(e)};return Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",transform:"translateX(-"+10*(i+1)+"px)",overflow:"hidden",width:"100vw",height:"100%"},children:[S>1&&Object(y.jsx)("div",{onClick:A,style:{position:"absolute",right:0,zIndex:1,cursor:"pointer",height:"100%"},children:Object(y.jsx)(h.a,{className:"btn-change-page-svg",style:{position:"relative",top:"50%"}})}),S>1&&Object(y.jsx)("div",{onClick:k,style:{position:"absolute",height:"100%",left:0,zIndex:1,cursor:"pointer"},children:Object(y.jsx)(h.b,{className:"btn-change-page-svg",style:{position:"relative",top:"50%"}})}),Object(y.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",transform:"translateX(-"+0*(i+1)+"px)"},children:x.map((function(e,t){return Object(y.jsx)("img",{onClick:function(){return r(!1)},style:{transition:"opacity 1s",opacity:t===p?1:0,transform:t===p?"translateX(-"+100*t+"vw)":"translateX(0vw)",display:"flex",justifyContent:"center",alignItems:"center"},src:e,alt:"",className:a},e)}))})]})},x=function(e){var t=e.srcImage,a=e.description,r=e.marginCategory,i=t&&Array.isArray(t),c=i?t[0]:void 0,s=Object(n.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],p=Object(n.useState)(0),g=Object(l.a)(p,2),j=g[0],b=g[1],v=Object(n.useState)(!1),h=Object(l.a)(v,2),x=h[0],N=h[1],C=Object(n.useState)(!1),w=Object(l.a)(C,2),I=w[0],P=w[1];return Object(n.useEffect)((function(){m("/images/default-image.svg").then((function(e){return b(e)})).catch((function(e){return console.log(e)})),m("/images/"+c).then((function(e){P(!0),N(!0),b(e)})).catch((function(e){N(!0),console.log(e)}))}),[c,b]),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:u?"column":"row"},className:"description-container",children:[!x&&Object(y.jsx)("div",{className:"image-product",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(y.jsx)(f.a,{className:"rotating"})}),x&&i&&!u&&Object(y.jsx)("img",{className:"image-product btn-not-pressed",alt:"",src:j,onClick:function(){I&&d(!u)}}),x&&i&&u&&Object(y.jsx)(O,{setVisibleImage:d,className:"image-product-view",listImages:t,firstImage:j,marginCategory:r}),a&&Object(y.jsx)("span",{className:u?"description-product-view":"description-product",children:a})]})},N=function(e){var t=e.product,a=e.marginCategory,r=Object(n.useRef)(null),i=Object(n.useRef)(null),c=t&&(null===t||void 0===t?void 0:t.description),o=t&&(null===t||void 0===t?void 0:t.details),u=t&&(null===t||void 0===t?void 0:t.images),d=t&&(null===t||void 0===t?void 0:t.prices),p=d&&Array.isArray(t.prices)&&1===t.prices.length,g=d&&Array.isArray(t.prices)&&t.prices.length>1,j=u||c,b=Object(n.useState)(!1),m=Object(l.a)(b,2),f=m[0],v=m[1],h=Object(n.useState)(!1),O=Object(l.a)(h,2),N=O[0],C=O[1],w=function(){return(u||c)&&Object(y.jsx)(x,{srcImage:null===t||void 0===t?void 0:t.images,description:null===t||void 0===t?void 0:t.description,marginCategory:a,classImage:"image-product",classDescription:"description-product"})},I=function(){i.current&&(N?(i.current.classList.remove("btn-pressed"),i.current.classList.add("btn-not-pressed")):(i.current.classList.remove("btn-not-pressed"),i.current.classList.add("btn-pressed"))),C(!N)};return Object(y.jsxs)("li",{children:[Object(y.jsxs)("div",{ref:i,onClick:I,className:"info-product btn-not-pressed",children:[Object(y.jsxs)("div",{className:"tittle-product",children:[j&&(!f&&r.current&&N?(s.a.render(w(),r.current),v(!0)):f&&r.current&&N?r.current.style.display="block":f&&r.current&&!N&&(r.current.style.display="none"),!0)&&Object(y.jsx)("button",{style:{background:"#873117"},className:"btn-view-more",onClick:I,children:N?"-":"+"}),Object(y.jsxs)("div",{className:"features-product",children:[Object(y.jsx)("h3",{className:"name-product",children:null===t||void 0===t?void 0:t.name}),o&&Object(y.jsx)("span",{className:"details-product",children:null===t||void 0===t?void 0:t.details})]})]}),!d&&Object(y.jsx)("span",{children:"No hay ningun precio para este producto!"}),p&&Object(y.jsx)("span",{className:"single-price",children:t.prices[0].price}),g&&Object(y.jsx)("ul",{className:"prices-products",children:t.prices.map((function(e,t){return((null===e||void 0===e?void 0:e.description)||(null===e||void 0===e?void 0:e.price))&&Object(y.jsxs)("li",{className:"price-product",children:[(null===e||void 0===e?void 0:e.description)&&Object(y.jsx)("h4",{className:"description-price",children:e.description}),(null===e||void 0===e?void 0:e.price)&&Object(y.jsx)("span",{className:"multiple-price",children:e.price})]},"price"+t)}))})]}),Object(y.jsx)("div",{style:{display:"none"},ref:r})]})},C=(a(13),a(29),function e(t){var a=t.category,r=t.isSubCategory,i=Object(n.useRef)(null),c=a&&(null===a||void 0===a?void 0:a.image)&&a.image.length>0,s=a&&(null===a||void 0===a?void 0:a.description);return Object(y.jsxs)("section",{className:"category",children:[Object(y.jsxs)("div",{className:"info-category",children:[!1,Object(y.jsx)("h2",{className:"tittle-category",children:null===a||void 0===a?void 0:a.name}),s&&Object(y.jsxs)("span",{className:"description-category",children:["(",null===a||void 0===a?void 0:a.description,")"]}),c&&Object(y.jsx)("img",{className:"image-category",alt:"",src:"/images/"+(null===a||void 0===a?void 0:a.image),onError:function(e){e.target.style.display="none",console.log(e.target)}})]}),Object(y.jsx)("div",{style:{opacity:1},ref:i,children:function(){var t=a&&(null===a||void 0===a?void 0:a.products)&&Array.isArray(a.products)&&a.products.length>0,n=a&&(null===a||void 0===a?void 0:a.categories)&&Array.isArray(a.categories)&&a.categories.length>0;return Object(y.jsxs)("ul",{className:"list-products",children:[t&&a.products.map((function(e,t){return Object(y.jsx)(N,{marginCategory:r,product:e},"product"+t)})),n&&a.categories.map((function(t,a){return Object(y.jsx)("li",{className:"subcategory",children:Object(y.jsx)(e,{category:t,isSubCategory:r+1})},"subcategory"+a)}))]})}()})]})}),w=(a(30),function(e){var t=e.page,a=e.indexPage,r=e.show,n=e.maxPages-a,i=t&&(null===t||void 0===t?void 0:t.categories)&&Array.isArray(t.categories)&&t.categories.length>0,c={position:"absolute",opacity:r?1:0,transform:r?"rotateY(0deg)":"rotateY(90deg)",transformOrigin:"left",zIndex:10*parseInt(n,10)};return Object(y.jsxs)("div",{id:"page"+a,style:c,className:"page",children:[Object(y.jsx)("h1",{className:"page-tittle",children:null===t||void 0===t?void 0:t.tittle}),i&&(null===t||void 0===t?void 0:t.categories.map((function(e,t){return Object(y.jsx)(C,{category:e,isSubCategory:0},"category"+t)})))]})}),I="menu",P="agregar pagina",S="borrar pagina",A="reiniciar paginas",k="cambiar pagina",E="mover arriba la pagina",R="mover para abajo la pagina",T=function(e,t){if(t.payload.element.name!==I)return e;var a,r,n,i;switch(t.type){case P:return a=t.payload.index,Object(o.a)(Object(o.a)({},e),{},{pages:[].concat(Object(v.a)(e.pages.slice(0,a+1)),[{tittle:"Titulo ("+(e.pages.length+1)+")",categories:[]}],Object(v.a)(e.pages.slice(a+1)))});case S:return a=t.payload.index,Object(o.a)(Object(o.a)({},e),{},{pages:e.pages.filter((function(e,t){return t!==a}))});case E:return n=(r=Object.assign([],e.pages))[t.payload.index],i=r.length,r=r.filter((function(e,a){return a!==t.payload.index})),a=t.payload.index>0?t.payload.index-1:i-1,r.splice(a,0,n),Object(o.a)(Object(o.a)({},e),{},{pages:r});case R:return n=(r=Object.assign([],e.pages))[t.payload.index],i=r.length,r=r.filter((function(e,a){return a!==t.payload.index})),a=t.payload.index<i-1?t.payload.index+1:0,r.splice(a,0,n),Object(o.a)(Object(o.a)({},e),{},{pages:r});case A:return Object(o.a)(Object(o.a)({},e),{},{actualPage:0});case k:return Object(o.a)(Object(o.a)({},e),{},{actualPage:t.payload.changePage});default:return e}},D=(a(31),a(32),Object(u.b)((function(e){return{}}),(function(e){return{goToPage:function(t){e({type:k,payload:{element:{name:I},changePage:t}}),setTimeout((function(){return window.scrollTo({top:0,behavior:"smooth"})}),0)}}}))((function(e){var t=e.pages,a=e.goToPage,r=e.clicks,n=e.setClicks,i=e.show,c=function(e){var t=[];return e.map((function(e,a){return e.categories.map((function(e){return t.push({name:e.name,page:a+1})}))})),t}(t);return Object(y.jsxs)("div",{style:{position:"absolute",zIndex:i?10*(t.length+2):-1,width:"100%",height:"100%",opacity:i?1:0,transform:i?"rotateY(0deg)":"rotateY(90deg)",transformOrigin:"left"},children:[Object(y.jsx)("h1",{className:"page-tittle",children:t[0].tittle}),c.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{onClick:function(t){a(e.page),r<2&&n(r+1)},style:{borderRadius:"10px",cursor:"pointer"},className:"tittle-category btn-not-pressed",children:e.name}),Object(y.jsx)("br",{})]},"category"+t)})),Object(y.jsx)("br",{})]})}))),z=Object(u.b)((function(e){return{pages:null===e||void 0===e?void 0:e.pages,actualPage:null===e||void 0===e?void 0:e.actualPage}}),(function(e){return{resetPage:function(){e({type:A,payload:{element:{name:I}}}),window.scrollTo({top:0,behavior:"smooth"})}}}))((function(e){var t=e.pages,a=e.actualPage,r=e.resetPage,i=t&&Array.isArray(t)&&t.length>0,c=i&&t.length>1,s=Object(n.useState)(0),o=Object(l.a)(s,2),u=o[0],d=o[1];return Object(y.jsxs)("div",{style:{position:"relative"},className:"menu",children:[c&&1===u&&Object(y.jsx)("span",{className:"finger-pointing",children:"\ud83d\udc46\ud83c\udffd"}),(!Array.isArray(t)||t.length<1)&&Object(y.jsxs)("span",{className:"waiting-menu",children:["No hay Paginas para mostrar \n",Object(y.jsx)("strong",{children:"(Comuniquelo Por favor)"})]}),i&&Object(y.jsx)(D,{pages:t,clicks:u,setClicks:d,show:0===a}),i&&Object(y.jsx)("div",{className:"pages-container",children:t&&t.map((function(e,r){return Object(y.jsx)(w,{page:e,indexPage:r+1,show:r+1===a,maxPages:t.length},"page"+r)}))}),0!==a&&Object(y.jsx)("span",{onClick:function(){r(),u<2&&d(u+1)},style:{position:"fixed",width:"60px",height:"50px",top:"5px",cursor:"pointer",left:"5px",zIndex:10*(t.length+2),fontFamily:"Fuente Blest Titulos",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",borderRadius:"10px",color:"black"},className:"btn-not-pressed",children:"Inicio"})]})})),L="cambiar titulo",F="agregar categoria",B="eliminar categoria",G="mover arriba categoria",H="mover abajo categoria",X=function(e,t){var a,r,n;switch(t.type){case L:return e.tittle=t.payload.text,e;case F:return a=void 0===t.payload.index?-1:t.payload.index,e.categories.splice(a+1,0,{name:"Nueva Categoria",description:"",products:[],categories:[]}),e;case B:return a=t.payload.index,e.categories=e.categories.filter((function(e,t){return t!==a})),e;case G:return a=t.payload.index,r=e.categories[a],n=e.categories.length,e.categories=e.categories.filter((function(e,t){return t!==a})),e.categories.splice(a>0?a-1:n-1,0,r),e;case H:return a=t.payload.index,r=e.categories[a],n=e.categories.length,e.categories=e.categories.filter((function(e,t){return t!==a})),e.categories.splice(a<n-1?a+1:0,0,r),e;default:return e}},Y="cambiar nombre categoria",_="cambiar descripcion categoria",M="agregar producto",J="eliminar producto",V="agregar subcategoria",q="eliminar subcategoria",U="mover arriba subcategoria",K="mover abajo subcategoria",Q="mover arriba producto",W="mover abajo producto",Z=function(e,t){var a,r,n,i,c;switch(t.type){case Y:return e.name=t.payload.text,e;case _:return e.description=t.payload.text,e;case M:return r=void 0===(null===t||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.index)?-1:t.payload.index,e.products||(e.products=[]),e.products.splice(r+1,0,{name:"Nuevo Producto ",details:"",description:"",prices:[],images:[]}),e;case J:return e.products=e.products.filter((function(e,a){return a!==t.payload.index})),e;case V:return r=t.payload.index?t.payload.index:-1,e.categories||(e.categories=[]),e.categories.splice(r+1,0,{name:"Subcategoria",description:"",products:[],categories:[]}),e;case q:return e.categories=e.categories.filter((function(e,a){return a!==t.payload.index})),e;case Q:return r=t.payload.index,i=e.products[r],c=e.products.length,e.products=e.products.filter((function(e,t){return t!==r})),e.products.splice(r>0?r-1:c-1,0,i),e;case W:return r=t.payload.index,i=e.products[r],c=e.products.length,e.products=e.products.filter((function(e,t){return t!==r})),e.products.splice(r<c-1?r+1:0,0,i),e;case U:return r=t.payload.index,n=e.categories[r],c=e.categories.length,e.categories=e.categories.filter((function(e,t){return t!==r})),e.categories.splice(r>0?r-1:c-1,0,n),e;case K:return r=t.payload.index,n=e.categories[r],c=e.categories.length,e.categories=e.categories.filter((function(e,t){return t!==r})),e.categories.splice(r<c-1?r+1:0,0,n),e;default:return e}},$="cambiar nombre producto",ee="cambiar descripcion",te="cambiar detalles",ae={CHANGE_DESCRIPTION:"cambiar descripcion precio",CHANGE_PRICE:"cambiar precio de descripcion"},re="agregar precio",ne="agregar imagen",ie="eliminar imagen",ce="mover arriba imagen",se="mover abajo imagen",oe=function(e,t){var a,r,n,i,c;switch(t.type){case $:return e.name=t.payload.text,e;case ee:return e.description=t.payload.text,e;case te:return e.details=t.payload.text,e;case re:return e.prices||(e.prices=[]),e.prices.push({description:"PRICE",price:0}),e;case ae.CHANGE_DESCRIPTION:return a=t.payload.element.indexPrice,r=t.payload.text,isNaN(a)||(e.prices[a].description=r),e;case ae.CHANGE_PRICE:return a=t.payload.element.indexPrice,(r=t.payload.text).length?isNaN(a)||(e.prices[a].price=r):e.prices=e.prices.filter((function(e,t){return t!==a})),e;case ne:return i=t.payload.src,(null===e||void 0===e?void 0:e.images)||(e.images=[]),e.images.push(i),e;case ie:return n=t.payload.index,e.images=e.images.filter((function(e,t){return t!==n})),e;case ce:return n=t.payload.index,i=e.images[n],c=e.images.length,e.images=e.images.filter((function(e,t){return n!==t})),e.images.splice(n>0?n-1:c-1,0,i),e;case se:return n=t.payload.index,i=e.images[n],c=e.images.length,e.images=e.images.filter((function(e,t){return n!==t})),e.images.splice(n<c-1?n+1:0,0,i),e;default:return e}},le=function(e){for(var t=[],a=Object.assign({},e);(null===(r=a)||void 0===r||null===(n=r.parent)||void 0===n?void 0:n.name)!==I;){var r,n;t.push(a.index),a=a.parent}return t.push(a.index),t},ue=function(e,t){var a,r=t.payload.element;if(!r)return e;switch(r.name){case"alerta":return Object(o.a)(Object(o.a)({},e),{},{activeAlert:t.payload.alert});case I:return T(e,t);case"page":return(a=Object.assign([],e.pages))[r.index]=X(r.json,t),Object(o.a)(Object(o.a)({},e),{},{pages:a});case"category":return function(e,t,a){var r=le(a);!function(e,t,a){for(var r=e.categories,n=a.pop();r&&a.length>0;)r=r[n].categories,n=a.pop();r[n]=t}(e[r.pop()],t,r)}(a=Object.assign([],e.pages),Z(Object.assign({},r.json),t),r),Object(o.a)(Object(o.a)({},e),{},{pages:a});case"product":return function(e,t,a){for(var r=le(a),n=e[r.pop()],i=r.shift(),c=n.categories,s=r.pop();c&&r.length>0;)c=c[s].categories,s=r.pop();c[s].products[i]=t}(a=Object.assign([],e.pages),oe(Object.assign({},r.json),t),r),Object(o.a)(Object(o.a)({},e),{},{pages:a});default:return e}},de=(a(33),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){!function(e){fetch("data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return console.log(e),e.json()})).then((function(t){console.log(t),e(t)})).catch((function(t){console.log("Paso algo con la lectura de la info",t),e({pages:[]})}))}(r)}),[]);return Object(y.jsxs)(y.Fragment,{children:[a&&(null===a||void 0===a?void 0:a.pages)&&Object(y.jsx)(u.a,{store:Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.a)(Object(o.a)({},a),{},{actualPage:0}),t=arguments.length>1?arguments[1]:void 0;return t.payload?ue(e,t):e})),children:Object(y.jsx)(z,{})}),(!a||!(null===a||void 0===a?void 0:a.pages))&&Object(y.jsxs)("span",{className:"waiting-text",children:["Cargando Menu \n",Object(y.jsx)("strong",{children:"(Espere Por Favor)"})]})]})});s.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(de,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.82a02c79.chunk.js.map