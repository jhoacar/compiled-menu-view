(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),i=a(6),s=a.n(i),o=a(3),l=a(4),u=a(5),d=a(15),g="srcImages",p="srcImage",j=window.indexedDB,b=function(e,t,a){var n=new FileReader;fetch(e).then((function(e){return e.blob()})).then((function(e){e.type.includes("image")||a("La respuesta fue texto, no se cargara el recurso"),e.type.includes("image")&&(n.onload=function(e){var a=e.target.result;t(a)},n.readAsDataURL(e))})).catch((function(e){return a(e)}))},f=function(e){return new Promise((function(t,a){j||a("No admite indexedDB");var r=j.open("imagesMenu",1);r.onsuccess=function(){n=r.result,function(e){return new Promise((function(t,a){var r=n.transaction([g],"readonly").objectStore(g).get(e);r.onerror=function(){return a("Ocurrio algo al leer en la base de datos")},r.onsuccess=function(e){r.result?t(r.result.dataImage):a("No se encontro la imagen en la base de datos")}}))}(e).then((function(e){t(e)})).catch((function(){b(e,(function(a){!function(e,t){var a={};a.srcImage=e,a.dataImage=t;var r=n.transaction([g],"readwrite").objectStore(g);try{var c=r.add(a);c.onerror=function(e){},c.onsuccess=function(e){}}catch(i){console.log(i)}}(e,a),t(a)}),(function(e){return a(e)}))}))},r.onupgradeneeded=function(e){(n=e.target.result).createObjectStore(g,{keyPath:p})},r.onerror=function(n){b(e,(function(e){return t(e)}),(function(e){return a(e)}))}}))},m=(a(26),a(14)),h=a(8),O=a(12),v=a(2),y=function(e){var t=e.listImages,a=e.className,n=e.setVisibleImage,c=e.marginCategory,i=e.firstImage,s=Object(r.useState)(!1),o=Object(l.a)(s,2),u=(o[0],o[1],Object(r.useState)(0)),d=Object(l.a)(u,2),g=d[0],p=d[1],j=Object(r.useState)(-1),b=Object(l.a)(j,2),m=(b[0],b[1],Object(r.useState)([i])),y=Object(l.a)(m,2),x=y[0],N=y[1],P=Object(r.useState)(1),w=Object(l.a)(P,2),C=w[0],I=w[1],A=null===x||void 0===x?void 0:x.length;Object(r.useEffect)((function(){C<t.length&&(f("/images/"+t[C]).then((function(e){return N((function(t){return[].concat(Object(h.a)(t),[e])}))})).catch((function(e){return console.log(e)})),I(C+1))}),[t,C]);var S=function(){var e=g;x&&g<x.length-1?e+=1:x&&g===x.length-1&&(e=0),p(e)},k=function(){var e=g;x&&g>0?e-=1:x&&0===g&&(e=x.length-1),p(e)};return Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",transform:"translateX(-"+10*(c+1)+"px)",overflow:"hidden",width:"100vw",height:"100%"},children:[A>1&&Object(v.jsx)("div",{onClick:S,style:{position:"absolute",right:0,zIndex:1,cursor:"pointer",height:"100%"},children:Object(v.jsx)(O.a,{className:"svg-next-page",style:{position:"relative",top:"50%"}})}),A>1&&Object(v.jsx)("div",{onClick:k,style:{position:"absolute",height:"100%",left:0,zIndex:1,cursor:"pointer"},children:Object(v.jsx)(O.b,{className:"svg-prev-page",style:{position:"relative",top:"50%"}})}),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",transform:"translateX(-"+0*(c+1)+"px)"},children:x.map((function(e,t){return Object(v.jsx)("img",{onClick:function(){return n(!1)},style:{transition:"opacity 1s",opacity:t===g?1:0,transform:t===g?"translateX(-"+100*t+"vw)":"translateX(0vw)",display:"flex",justifyContent:"center",alignItems:"center"},src:e,alt:"",className:a},e)}))})]})},x=function(e){var t=e.srcImage,a=e.description,n=e.marginCategory,c=t&&Array.isArray(t),i=c?t[0]:void 0,s=Object(r.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],g=Object(r.useState)(0),p=Object(l.a)(g,2),j=p[0],b=p[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),x=O[0],N=O[1],P=Object(r.useState)(!1),w=Object(l.a)(P,2),C=w[0],I=w[1];return Object(r.useEffect)((function(){f("/images/default-image.svg").then((function(e){return b(e)})).catch((function(e){return console.log(e)})),f("/images/"+i).then((function(e){I(!0),N(!0),b(e)})).catch((function(e){N(!0),console.log(e)}))}),[i,b]),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:u?"column":"row"},className:"description-container",children:[!x&&Object(v.jsx)("div",{className:"image-product",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(m.a,{className:"rotating"})}),x&&c&&!u&&Object(v.jsx)("img",{className:"image-product boton-not-pressed",alt:"",src:j,onClick:function(){C&&d(!u)}}),x&&c&&u&&Object(v.jsx)(y,{setVisibleImage:d,className:"image-product-view",listImages:t,firstImage:j,marginCategory:n}),a&&Object(v.jsx)("span",{className:u?"description-product-view":"description-product",children:a})]})},N=function(e){var t=e.product,a=e.marginCategory,n=Object(r.useRef)(null),c=Object(r.useRef)(null),i=t&&(null===t||void 0===t?void 0:t.description),o=t&&(null===t||void 0===t?void 0:t.details),u=t&&(null===t||void 0===t?void 0:t.images),d=t&&(null===t||void 0===t?void 0:t.prices),g=d&&Array.isArray(t.prices)&&1===t.prices.length,p=d&&Array.isArray(t.prices)&&t.prices.length>1,j=u||i,b=Object(r.useState)(!1),f=Object(l.a)(b,2),m=f[0],h=f[1],O=Object(r.useState)(!1),y=Object(l.a)(O,2),N=y[0],P=y[1],w=function(){return(u||i)&&Object(v.jsx)(x,{srcImage:null===t||void 0===t?void 0:t.images,description:null===t||void 0===t?void 0:t.description,marginCategory:a,classImage:"image-product",classDescription:"description-product"})},C=function(){c.current&&(N?(c.current.classList.remove("boton-pressed"),c.current.classList.add("boton-not-pressed")):(c.current.classList.remove("boton-not-pressed"),c.current.classList.add("boton-pressed"))),P(!N)};return Object(v.jsxs)("li",{children:[Object(v.jsxs)("div",{ref:c,onClick:C,className:"info-product boton-not-pressed",children:[Object(v.jsxs)("div",{className:"tittle-product",children:[j&&(!m&&n.current&&N?(s.a.render(w(),n.current),h(!0)):m&&n.current&&N?n.current.style.display="block":m&&n.current&&!N&&(n.current.style.display="none"),!0)&&Object(v.jsx)("button",{className:"view-more",onClick:C,children:N?"-":"+"}),Object(v.jsxs)("div",{className:"features-product",children:[Object(v.jsx)("h3",{className:"name-product",children:null===t||void 0===t?void 0:t.name}),o&&Object(v.jsx)("span",{className:"details-product",children:null===t||void 0===t?void 0:t.details})]})]}),!d&&Object(v.jsx)("span",{children:"No hay ningun precio para este producto!"}),g&&Object(v.jsx)("span",{className:"single-price",children:t.prices[0]}),p&&Object(v.jsx)("ul",{className:"prices-products",children:t.prices.map((function(e,t){return((null===e||void 0===e?void 0:e.description)||(null===e||void 0===e?void 0:e.price))&&Object(v.jsxs)("li",{className:"price-product",children:[(null===e||void 0===e?void 0:e.description)&&Object(v.jsx)("h4",{className:"description-price",children:e.description}),(null===e||void 0===e?void 0:e.price)&&Object(v.jsx)("span",{className:"multiple-price",children:e.price})]},"price"+t)}))})]}),Object(v.jsx)("div",{style:{display:"none"},ref:n})]})},P=(Object(u.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t=e.className,a=e.show,n=e.refElement,c=Object(r.useState)(a),i=Object(l.a)(c,2),s=i[0],o=i[1];return function(e){return n.current&&!e?n.current.style.display="none":n.current&&e&&(n.current.style.display="block"),!0}(s)&&Object(v.jsx)("button",{className:t,onClick:function(){o(!s)},children:s?"-":"+"})})),a(28),function e(t){var a=t.category,n=t.isSubCategory,c=Object(r.useRef)(null),i=a&&(null===a||void 0===a?void 0:a.image)&&a.image.length>0,s=a&&(null===a||void 0===a?void 0:a.description);return Object(v.jsxs)("section",{className:"category",children:[Object(v.jsxs)("div",{className:"info-category",children:[!1,Object(v.jsx)("h2",{className:"tittle-category",children:null===a||void 0===a?void 0:a.name}),s&&Object(v.jsxs)("span",{className:"description-category",children:["(",null===a||void 0===a?void 0:a.description,")"]}),i&&Object(v.jsx)("img",{className:"image-category",alt:"",src:"/images/"+(null===a||void 0===a?void 0:a.image),onError:function(e){e.target.style.display="none",console.log(e.target)}})]}),Object(v.jsx)("div",{style:{opacity:1},ref:c,children:function(){var t=a&&(null===a||void 0===a?void 0:a.products)&&Array.isArray(a.products)&&a.products.length>0,r=a&&(null===a||void 0===a?void 0:a.categories)&&Array.isArray(a.categories)&&a.categories.length>0;return Object(v.jsxs)("ul",{className:"list-products",children:[t&&a.products.map((function(e,t){return Object(v.jsx)(N,{marginCategory:n,product:e},"product"+t)})),r&&a.categories.map((function(t,a){return Object(v.jsx)("li",{className:"subcategory",children:Object(v.jsx)(e,{category:t,isSubCategory:n+1})},"subcategory"+a)}))]})}()})]})}),w=(a(29),function(e){var t=e.page,a=e.indexPage,n=e.show,r=e.maxPages-a,c=t&&(null===t||void 0===t?void 0:t.categories)&&Array.isArray(t.categories)&&t.categories.length>0,i={position:"absolute",opacity:n?1:0,transform:n?"rotateY(0deg)":"rotateY(90deg)",transformOrigin:"left",zIndex:10*parseInt(r,10)};return Object(v.jsxs)("div",{id:"page"+a,style:i,className:"page",children:[Object(v.jsx)("h1",{className:"page-tittle",children:null===t||void 0===t?void 0:t.tittle}),c&&(null===t||void 0===t?void 0:t.categories.map((function(e,t){return Object(v.jsx)(P,{category:e,isSubCategory:0},"category"+t)})))]})}),C="menu",I="agregar pagina",A="borrar pagina",S="mover pagina",k="pagina siguiente",E="pagina anterior",R="reiniciar paginas",T="cambiar pagina",D=function(e,t){if(t.payload.element.name!==C)return e;var a;switch(t.type){case I:return a=e.actualPage<0?0:e.actualPage,Object(o.a)(Object(o.a)({},e),{},{pages:[].concat(Object(h.a)(e.pages.slice(0,a)),[{tittle:"Nuevo Titulo",categories:[]}],Object(h.a)(e.pages.slice(a))),actualPage:a});case A:return a=e.actualPage-(e.actualPage===e.pages.length-1),Object(o.a)(Object(o.a)({},e),{},{pages:e.pages.filter((function(t,a){return a!==e.actualPage})),actualPage:a});case S:return e;case k:return a=e.actualPage+(e.actualPage<e.pages.length-1),Object(o.a)(Object(o.a)({},e),{},{actualPage:a});case E:return a=e.actualPage-(e.actualPage>0),Object(o.a)(Object(o.a)({},e),{},{actualPage:a});case R:return Object(o.a)(Object(o.a)({},e),{},{actualPage:0});case T:return Object(o.a)(Object(o.a)({},e),{},{actualPage:t.payload.changePage});default:return e}},z=(a(30),Object(u.b)((function(e){return{}}),(function(e){return{goToPage:function(t){e({type:T,payload:{element:{name:C},changePage:t}}),setTimeout((function(){return window.scrollTo({top:0,behavior:"smooth"})}),0)}}}))((function(e){var t=e.pages,a=e.goToPage,n=e.clicks,r=e.setClicks,c=e.show,i=function(e){var t=[];return e.map((function(e,a){return e.categories.map((function(e){return t.push({name:e.name,page:a+1})}))})),t}(t);return Object(v.jsxs)("div",{style:{position:"absolute",zIndex:c?10*(t.length+2):-1,width:"100%",height:"100%",opacity:c?1:0,transform:c?"rotateY(0deg)":"rotateY(90deg)",transformOrigin:"left"},children:[Object(v.jsx)("h1",{className:"page-tittle",children:t[0].tittle}),i.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{onClick:function(t){a(e.page),n<2&&r(n+1)},style:{borderRadius:"10px",cursor:"pointer"},className:"tittle-category boton-not-pressed",children:e.name}),Object(v.jsx)("br",{})]},"category"+t)})),Object(v.jsx)("br",{})]})}))),L=Object(u.b)((function(e){return{pages:null===e||void 0===e?void 0:e.pages,actualPage:null===e||void 0===e?void 0:e.actualPage}}),(function(e){return{resetPage:function(){e({type:R,payload:{element:{name:C}}}),window.scrollTo({top:0,behavior:"smooth"})}}}))((function(e){var t=e.pages,a=e.actualPage,n=e.resetPage,c=t&&Array.isArray(t)&&t.length>0,i=c&&t.length>1,s=Object(r.useState)(0),o=Object(l.a)(s,2),u=o[0],d=o[1];return Object(v.jsxs)("div",{style:{position:"relative"},className:"menu",children:[i&&1===u&&Object(v.jsx)("span",{className:"finger-pointing",children:"\ud83d\udc46\ud83c\udffd"}),(!Array.isArray(t)||t.length<1)&&Object(v.jsxs)("span",{className:"waiting-menu",children:["No hay Paginas para mostrar \n",Object(v.jsx)("strong",{children:"(Comuniquelo Por favor)"})]}),c&&Object(v.jsx)(z,{pages:t,clicks:u,setClicks:d,show:0===a}),c&&Object(v.jsx)("div",{className:"pages-container",children:t&&t.map((function(e,n){return Object(v.jsx)(w,{page:e,indexPage:n+1,show:n+1===a,maxPages:t.length},"page"+n)}))}),0!==a&&Object(v.jsx)("span",{onClick:function(){n(),u<2&&d(u+1)},style:{position:"fixed",width:"60px",height:"50px",top:"5px",cursor:"pointer",left:"5px",zIndex:10*(t.length+2),fontFamily:"Fuente Blest Titulos",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",borderRadius:"10px",color:"black"},className:"boton-not-pressed",children:"Inicio"})]})})),F="cambiar titulo",B="agregar categoria",G=function(e,t){switch(t.type){case F:return e.tittle=t.payload.text,e;case B:return e.categories.push({name:"Nueva Categoria",description:"Descripcion",products:[],subcategories:[]}),e;default:return e}},H="cambiar nombre categoria",X="agregar producto",Y="eliminar producto",_=function(e,t){switch(t.type){case H:return e.name=t.payload.text,e;case X:return e.products.push({name:"Nuevo Producto",prices:[0]}),e;case Y:return e.products=e.products.filter((function(e){return e.name!==t.payload.nameProduct})),e;default:return e}},M="cambiar nombre producto",J="cambiar descripcion",V="cambiar precio",q={CHANGE_DESCRIPTION:"cambiar descripcion precio",CHANGE_PRICE:"cambiar precio de descripcion"},U="cambiar imagen",K="cambiar detalles",Q=function(e,t){var a;switch(t.type){case M:return e;case J:return e.description=t.payload.text,e;case V:return e.prices[0]=t.payload.text,e;case q.CHANGE_DESCRIPTION:return a=t.payload.element.indexPrice,e.prices[a].description=t.payload.text,e;case q.CHANGE_PRICE:return a=t.payload.element.indexPrice,e.prices[a].price=t.payload.text,e;case K:return e.details=t.payload.text,e;case U:default:return e}},W=-1,Z=function(e,t,a){for(var n=e.categories,r=a.shift();n&&a.length>0;)n=n[r].categories,r=a.shift();n[r]=t},$=function(e,t){var a=t.payload.element;if(!a)return e;var n=a.name!==C?Object.assign([],e.pages):W,r=Object.assign([],a.hierarchicalArray),c=n!==W?r.shift():W,i=c!==W?n[c]:W,s=i!==W?function(e,t){console.log(t);for(var a=t.shift(),n=e.categories[a];n&&(null===(r=n)||void 0===r?void 0:r.categories)&&(null===(c=n)||void 0===c?void 0:c.categories.length)>0&&t.length>0;){var r,c;console.log(a),console.log(n),a=t.shift(),n=n.categories[a]}return console.log(n),n}(i,r):W,l=r&&r.length>0?r.shift():W,u=l!==W?s.products[l]:W;switch(a.name){case C:return D(e,t);case"page":return i=G(i,t),n[c]=i,Object(o.a)(Object(o.a)({},e),{},{pages:n});case"category":return s=_(s,t),(r=Object.assign([],a.hierarchicalArray)).shift(),Z(i,s,r),n[c]=i,Object(o.a)(Object(o.a)({},e),{},{pages:n});case"product":return u=Q(u,t),s.products[l]=u,(r=Object.assign([],a.hierarchicalArray)).shift(),r.pop(),Z(i,s,r),n[c]=i,Object(o.a)(Object(o.a)({},e),{},{pages:n});default:return e}},ee=(a(31),function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(r.useEffect)((function(){!function(e){fetch("data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(t){e({pages:[]})}))}(n)}),[]);return Object(v.jsxs)(v.Fragment,{children:[a&&(null===a||void 0===a?void 0:a.pages)&&Object(v.jsx)(u.a,{store:Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.a)(Object(o.a)({},a),{},{actualPage:0,viewImages:!1}),t=arguments.length>1?arguments[1]:void 0;return t.payload?$(e,t):e})),children:Object(v.jsx)(L,{})}),(!a||!(null===a||void 0===a?void 0:a.pages))&&Object(v.jsxs)("span",{className:"waiting-menu",children:["Cargando Menu \n",Object(v.jsx)("strong",{children:"(Espere Por Favor)"})]})]})});s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(ee,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.cc3276ac.chunk.js.map