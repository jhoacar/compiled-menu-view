{"version":3,"sources":["components/GetComponents/StorageIndexedDB.js","components/ViewComponents/ImageCarousel.js","components/ViewComponents/DescriptionView.js","components/GetComponents/Getters.js","components/ViewComponents/ProductView.js","components/ViewComponents/CategoryView.js","components/ViewComponents/PageView.js","components/GetComponents/Constants.js","components/ReducersComponents/MenuReducer.js","components/ViewComponents/PageCategories.js","components/ViewComponents/MenuView.js","components/ReducersComponents/PageReducer.js","components/ReducersComponents/CategoryReducer.js","components/ReducersComponents/ProductReducer.js","components/ReducersComponents/GlobalReducer.js","App.js","index.js"],"names":["db","nameStoreDBB","nameKey","indexedDBB","window","indexedDB","fetchData","srcImage","resolveData","rejectData","fileReader","FileReader","fetch","then","response","blob","imageBlob","type","includes","onload","evt","result","target","readAsDataURL","catch","error","getImage","Promise","resolve","reject","request","open","onsuccess","transaction","objectStore","get","onerror","event","searchAtDBB","dataImage","data","add","console","log","saveAtDBB","onupgradeneeded","createObjectStore","keyPath","ImageCarousel","listImages","className","setVisibleImage","marginCategory","firstImage","useState","actualImage","setActualImage","listSRC","setListSRC","indexToLoad","setIndexToLoad","maxImages","length","useEffect","changeNextImage","nextImage","changePrevImage","prevImage","style","display","flexDirection","transform","overflow","width","height","onClick","position","right","zIndex","cursor","top","left","alignItems","justifyContent","map","indexImage","transition","opacity","src","alt","DescriptionView","description","existsImage","Array","isArray","undefined","visibleImage","srcImageLoaded","setSrcImageLoaded","imageLoaded","setImageLoaded","imageFound","setImageFound","routeImages","ProductView","product","refShowMore","useRef","refProduct","hasDescriptionProduct","hasDetailsProduct","details","hasImageProduct","images","hasPrice","prices","hasOnePrice","hasMuchPrices","activeButton","firstClick","setFirstClick","click","setClick","showInfo","classImage","classDescription","clickHandler","current","classList","remove","ref","ReactDOM","render","background","name","price","indexPrice","CategoryView","category","isSubCategory","refShowProducts","hasImageCategory","image","hasDescriptionCategory","onError","hasProducts","products","hasSubCategories","categories","indexProduct","subcategory","indexSubCategory","showAllProducts","PageView","page","indexPage","show","position_page","maxPages","existsAnyCategory","pageStyle","transformOrigin","parseInt","id","tittle","indexCategory","MENU","ACTIONS_MENU","menuReducer","state","action","payload","element","newPages","size","index","pages","slice","filter","Object","assign","splice","actualPage","changePage","connect","dispatch","goToPage","numPage","setTimeout","scrollTo","behavior","clicks","setClicks","listCategories","push","getCategories","borderRadius","resetPage","existsAnyPage","existsPages","ACTIONS_PAGE","pageReducer","statePage","text","ACTIONS_CATEGORY","categoryReducer","stateCategory","ACTIONS_PRODUCT","CHANGE_DESCRIPTION","CHANGE_PRICE","productReducer","stateProduct","isNaN","getHierarchicalArray","hierarchicalArray","auxElement","parent","globalReducer","activeAlert","alert","json","actualCategory","pop","setCategoryPage","loadCategory","shift","loadProduct","App","setData","headers","myJson","store","createStore","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e2ae5a2c.chunk.js","sourcesContent":["//Procesamiento de IndexedDBB\r\n\r\n//Revisamos que exista el recurso en la base de datos\r\n//Si existe sera resuelta la promesa con el recurso encontrado\r\n//Si no se encuentra en la base de datos\r\n//La solicitamos al servidor; procesamos la peticion\r\n//Si todo fue exitoso, resolvemos la promesa con el recurso solicitado,\r\n// y luego guardamos el recurso en la base de datos\r\n//Si ocurre algun error en la peticion se rechaza la promesa\r\n\r\nconst nameDBB = \"imagesMenu\";\r\n//El store anterior fue \"srcImages\"\r\nconst nameStoreDBB = \"srcImages\";\r\nconst versionDBB = 1;\r\nconst nameKey = \"srcImage\";\r\nconst nameValue = \"dataImage\";\r\n\r\nconst indexedDBB = window.indexedDB;\r\nlet db;\r\n\r\nconst fetchData = function (srcImage, resolveData, rejectData) {\r\n\r\n  const fileReader = new FileReader();\r\n\r\n  fetch(srcImage)\r\n    .then(response => {\r\n      return response.blob();\r\n    })\r\n    .then(imageBlob => {\r\n\r\n      if (!imageBlob.type.includes(\"image\"))\r\n        rejectData(\"La respuesta fue texto, no se cargara el recurso\");\r\n\r\n      if (imageBlob.type.includes(\"image\")) {\r\n\r\n        fileReader.onload = function (evt) {\r\n          const result = evt.target.result;\r\n          resolveData(result);\r\n        };\r\n\r\n        fileReader.readAsDataURL(imageBlob);\r\n\r\n      }\r\n    })\r\n    .catch(error => rejectData(error))\r\n\r\n\r\n}\r\n\r\nconst saveAtDBB = function (srcImage, dataImage) {\r\n\r\n  const data = {};\r\n  data[nameKey] = srcImage;\r\n  data[nameValue] = dataImage;\r\n\r\n  const transaction = db.transaction([nameStoreDBB], \"readwrite\");\r\n  const objectStore = transaction.objectStore(nameStoreDBB);\r\n  try {\r\n    const request = objectStore.add(data);\r\n    request.onerror = error => { /*alert(\"Ocurrio un error en guardar en la base de datos\");/*console.log(error)*/ };\r\n    request.onsuccess = event => { /*alert(\"Todo funciono de maravilla y se guardo\");/*console.log(event)*/ };\r\n  } catch (error) {\r\n    //alert(\"Ocurrio un error en escritura de la base de datos\")\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n\r\nconst searchAtDBB = function (srcImage) {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    const transaction = db.transaction([nameStoreDBB], \"readonly\");\r\n    const objectStore = transaction.objectStore(nameStoreDBB);\r\n\r\n    const request = objectStore.get(srcImage);\r\n\r\n    request.onerror = () => reject(\"Ocurrio algo al leer en la base de datos\");\r\n\r\n    request.onsuccess = function (event) {\r\n      if (request.result) {\r\n        //alert(\"Se encontro la imagen en la base de datos y se va a cargar\")\r\n        resolve(request.result[nameValue]);\r\n      }\r\n      else {\r\n        //alert(\"No se encontro la imagen en la base de datos\")\r\n        reject(\"No se encontro la imagen en la base de datos\");\r\n      }\r\n    };\r\n\r\n  });\r\n}\r\n\r\n\r\nexport const getImage = function (srcImage) {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    if (!indexedDBB)\r\n      reject(\"No admite indexedDB\");\r\n\r\n    const request = indexedDBB.open(nameDBB, versionDBB);\r\n    \r\n    request.onsuccess = () => {\r\n      db = request.result;\r\n\r\n      searchAtDBB(srcImage)\r\n        .then(response => {\r\n          resolve(response);\r\n        })\r\n        .catch(() => {\r\n          fetchData(srcImage,result=>{\r\n            saveAtDBB(srcImage, result);\r\n            resolve(result);\r\n          }, \r\n          error=>reject(error));\r\n        })\r\n    };\r\n\r\n    //Esto se ejecuta si no existe la base de datos entonces la crea\r\n    request.onupgradeneeded = event => {\r\n      db = event.target.result;\r\n      db.createObjectStore(nameStoreDBB, { keyPath: nameKey });\r\n    };\r\n\r\n    request.onerror = error => {\r\n      fetchData(srcImage, result=>resolve(result), error=>reject(error))\r\n    };\r\n\r\n  });\r\n\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { GrFormNext, GrFormPrevious } from 'react-icons/gr';\r\nimport { getImage } from '../GetComponents/StorageIndexedDB';\r\n\r\nconst routeImages = \"/images/\";\r\n \r\n\r\nconst ImageCarousel = ({ listImages, className, setVisibleImage, marginCategory, firstImage }) => {\r\n\r\n    const [changePage, setChange] = useState(false);\r\n    const [actualImage, setActualImage] = useState(0);\r\n    const [startPosX, setStartPosX] = useState(-1);\r\n\r\n    const [listSRC, setListSRC] = useState([firstImage]);\r\n\r\n    const [indexToLoad, setIndexToLoad] = useState(1);\r\n\r\n    const maxImages = listSRC?.length;\r\n    \r\n    useEffect(() => {\r\n\r\n        if (indexToLoad < listImages.length) {\r\n            getImage(routeImages+listImages[indexToLoad])\r\n            .then(response=>setListSRC(listSRC => [...listSRC, response]))\r\n            .catch(error=>console.log(error));\r\n            setIndexToLoad(indexToLoad + 1)\r\n        }\r\n    }, [listImages, indexToLoad])\r\n\r\n    const changeNextImage = function () {\r\n\r\n        let nextImage = actualImage;\r\n\r\n        if (listSRC && actualImage < listSRC.length - 1)\r\n            nextImage = nextImage + 1;\r\n        else if (listSRC && actualImage === listSRC.length - 1)\r\n            nextImage = 0;\r\n\r\n\r\n        setActualImage(nextImage);\r\n    }\r\n\r\n    const changePrevImage = function () {\r\n\r\n        let prevImage = actualImage;\r\n\r\n        if (listSRC && actualImage > 0)\r\n            prevImage = prevImage - 1;\r\n        else if (listSRC && actualImage === 0)\r\n            prevImage = listSRC.length - 1;\r\n\r\n        setActualImage(prevImage);\r\n    }\r\n    // eslint-disable-next-line\r\n    const dragStart = function (clientX) {\r\n\r\n        setChange(true);\r\n        setStartPosX(clientX)\r\n\r\n        // if (clientX >= 0 && clientX <= 1 && direction === NoDirection)\r\n        //     setDirection(LeftDirection); // 1 para indicar que se selecciono la parte derecha de la pantalla\r\n        // if (clientX >= 0 && clientX <=1 && direction === NoDirection)\r\n        //     setDirection(RightDirection); // 0 para indicar que se selecciono la parte izquierda de la pantalla\r\n        // else\r\n        //     setDirection(NoDirection); //-1 para indicar que no se ha escogido un lugar clave para realizar cambio de pagina\r\n    }\r\n    // eslint-disable-next-line\r\n    const dragging = function (clientX) {\r\n\r\n        if (startPosX - clientX > 0.05 && changePage) { //Next Image\r\n            changeNextImage();\r\n            setChange(false);\r\n            //setDirection(NoDirection);\r\n        }\r\n        else if (clientX - startPosX > 0.05 && changePage) { //Prev Image\r\n            changePrevImage();\r\n            setChange(false);\r\n            //setDirection(NoDirection);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div\r\n            //onPointerEnter={e => { dragStart(e.clientX / window.innerWidth) }}\r\n            //onPointerMove={e => { dragging(e.clientX / window.innerWidth) }}\r\n            style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                transform: \"translateX(-\" + (marginCategory + 1) * 10 + \"px)\",\r\n                overflow: \"hidden\",\r\n                width: '100vw',\r\n                height: '100%',\r\n            }}\r\n        >\r\n            {maxImages > 1 &&\r\n                <div\r\n                    onClick={changeNextImage}\r\n                    style={{\r\n                        position:'absolute',\r\n                        right:0,\r\n                        zIndex:1,\r\n                        cursor:'pointer',\r\n                        height: \"100%\"\r\n                    }}>\r\n                    <GrFormNext\r\n                        className=\"btn-change-page-svg\"\r\n                        style={{\r\n                            position:'relative',\r\n                            top:'50%'\r\n                        }}\r\n                    />\r\n                </div>\r\n            }\r\n            {maxImages > 1 &&\r\n                <div\r\n                    onClick={changePrevImage}\r\n                    style={{\r\n                        position:'absolute',\r\n                        height: \"100%\",\r\n                        left:0,\r\n                        zIndex:1,\r\n                        cursor:'pointer'\r\n                    }}\r\n                >\r\n                    <GrFormPrevious\r\n                        className=\"btn-change-page-svg\"\r\n                        style={{\r\n                            position:'relative',\r\n                            top:'50%'\r\n                        }}\r\n                    />\r\n                </div>\r\n            }\r\n            <div style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                transform: \"translateX(-\" + (marginCategory + 1) * 0 + \"px)\",\r\n            }}>\r\n                {listSRC.map(function (srcImage, indexImage) {\r\n\r\n                    return <img\r\n                        onClick={() => setVisibleImage(false)}\r\n                        style={{\r\n                            transition: \"opacity 1s\",\r\n                            opacity: indexImage === actualImage ? 1 : 0,\r\n                            transform: indexImage === actualImage ? \"translateX(-\" + (indexImage) * (100) + \"vw)\" : \"translateX(0vw)\",\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            alignItems: \"center\"\r\n                        }}\r\n                        key={srcImage}\r\n                        src={srcImage}\r\n                        alt=\"\"\r\n                        className={className}\r\n                    />\r\n\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageCarousel;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { getImage } from '../GetComponents/StorageIndexedDB';\r\nimport { getDefaultImage } from '../GetComponents/Getters';\r\nimport { AiOutlineLoading } from 'react-icons/ai';\r\n\r\nimport ImageCarousel from './ImageCarousel';\r\n\r\nconst routeImages = \"/images/\";\r\n\r\n\r\nconst DescriptionView = ({ srcImage, description, marginCategory }) => {\r\n\r\n    const existsImage = srcImage && Array.isArray(srcImage);\r\n\r\n    const firstImage = existsImage ? srcImage[0] : undefined;\r\n\r\n    const [visibleImage, setVisibleImage] = useState(false);\r\n\r\n    const [srcImageLoaded, setSrcImageLoaded] = useState(0);\r\n\r\n    const [imageLoaded, setImageLoaded] = useState(false);\r\n\r\n    const [imageFound, setImageFound] = useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n        getDefaultImage()\r\n            .then(response => setSrcImageLoaded(response))\r\n            .catch(error => console.log(error));\r\n\r\n        getImage(routeImages + firstImage)\r\n            .then(response => {\r\n                setImageFound(true);\r\n                setImageLoaded(true);\r\n                setSrcImageLoaded(response);\r\n            }\r\n            ).catch(error => {\r\n                setImageLoaded(true);\r\n                console.log(error);\r\n            })\r\n    }, [firstImage, setSrcImageLoaded])\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                flexDirection: visibleImage ? \"column\" : \"row\",\r\n            }}\r\n            className=\"description-container\"\r\n        >\r\n            {!imageLoaded &&\r\n                <div className=\"image-product\" style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n                    <AiOutlineLoading className=\"rotating\" />\r\n                </div>\r\n            }\r\n            {imageLoaded && existsImage && !visibleImage &&\r\n                <img\r\n                    className={\"image-product btn-not-pressed\"}\r\n                    alt=\"\"\r\n                    src={srcImageLoaded}\r\n                    onClick={() => {\r\n                        if (imageFound)\r\n                            setVisibleImage(!visibleImage)\r\n                    }}\r\n                />}\r\n            {imageLoaded && existsImage && visibleImage &&\r\n                <ImageCarousel\r\n                    setVisibleImage={setVisibleImage}\r\n                    className={\"image-product-view\"}\r\n                    listImages={srcImage}\r\n                    firstImage={srcImageLoaded}\r\n                    marginCategory={marginCategory}\r\n                />\r\n            }\r\n            {description &&\r\n                <span\r\n                    className={!visibleImage ? \"description-product\" : \"description-product-view\"}>\r\n                    {description}\r\n                </span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DescriptionView;","import { getImage } from './StorageIndexedDB';\r\n\r\nconst routeImages = \"menuView/images/\";\r\n\r\nexport const fetchData = function (setData) {\r\n  fetch('menuView/data.json', { headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' } })\r\n    .then(function (response) {\r\n      console.log(response);\r\n      return response.json();\r\n    })\r\n    .then(function (myJson) {\r\n      console.log(myJson);\r\n      setData(myJson)\r\n    }).catch((error) => {\r\n      console.log(\"Paso algo con la lectura de la info\",error);\r\n      setData({pages:[]});\r\n    });\r\n}\r\n\r\nexport const getDefaultImage =  function(){\r\n  return getImage(routeImages+'default-image.svg');\r\n}","import React, { useRef, useState } from 'react'\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport '../../styles/product.scss'\r\n\r\nimport DescriptionView from './DescriptionView';\r\n\r\n\r\n\r\nconst ProductView = function ({ product, marginCategory }) {\r\n\r\n    const refShowMore = useRef(null);\r\n    const refProduct = useRef(null);\r\n\r\n    const hasDescriptionProduct = product && product?.description;\r\n    const hasDetailsProduct = product && product?.details;\r\n    const hasImageProduct = product && product?.images;\r\n\r\n    const hasPrice = product && product?.prices;\r\n    const hasOnePrice = hasPrice && Array.isArray(product.prices) && product.prices.length === 1;\r\n    const hasMuchPrices = hasPrice && Array.isArray(product.prices) && product.prices.length > 1;\r\n\r\n\r\n    const activeButton = hasImageProduct || hasDescriptionProduct;\r\n\r\n    const [firstClick, setFirstClick] = useState(false);\r\n\r\n    const [click, setClick] = useState(false);\r\n\r\n\r\n\r\n    const switchClick = function () {\r\n\r\n        if (!firstClick && refShowMore.current && click) {\r\n            ReactDOM.render(showInfo(), refShowMore.current);\r\n            setFirstClick(true);\r\n        }\r\n        else if (firstClick && refShowMore.current && click)\r\n            refShowMore.current.style.display = \"block\";\r\n        else if (firstClick && refShowMore.current && !click)\r\n            refShowMore.current.style.display = \"none\";\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n    const showInfo = function () {\r\n\r\n        return (hasImageProduct || hasDescriptionProduct) &&\r\n            <DescriptionView\r\n                srcImage={product?.images}\r\n                description={product?.description}\r\n                marginCategory={marginCategory}\r\n                classImage=\"image-product\"\r\n                classDescription=\"description-product\"\r\n            />\r\n    };\r\n\r\n    const clickHandler = () => {\r\n\r\n        if (refProduct.current) {\r\n            if (!click) {\r\n                refProduct.current.classList.remove(\"btn-not-pressed\");\r\n                refProduct.current.classList.add(\"btn-pressed\");\r\n            }\r\n            else{\r\n                refProduct.current.classList.remove(\"btn-pressed\");\r\n                refProduct.current.classList.add(\"btn-not-pressed\");\r\n            }\r\n        }\r\n        setClick(!click);\r\n    };\r\n\r\n    return (\r\n        <li>\r\n            <div ref={refProduct} onClick={clickHandler} className=\"info-product btn-not-pressed\">\r\n                <div className=\"tittle-product\">\r\n\r\n                    {activeButton &&\r\n                        switchClick() &&\r\n                        <button\r\n                            style={{background:'#873117'}}\r\n                            className=\"btn-view-more\"\r\n                            onClick={clickHandler}\r\n                        >\r\n                            {click ? \"-\" : \"+\"}\r\n                        </button>}\r\n\r\n                    <div className=\"features-product\">\r\n\r\n                        <h3 className=\"name-product\">{product?.name}</h3>\r\n\r\n                        {hasDetailsProduct && <span className=\"details-product\">{product?.details}</span>}\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                {!hasPrice && <span>No hay precio</span>}\r\n                {hasOnePrice &&\r\n                    <span className=\"single-price\">{product.prices[0].price}</span>\r\n                }\r\n                {hasMuchPrices &&\r\n                    <ul className=\"prices-products\">\r\n                        {product.prices.map((price, indexPrice) =>\r\n                            (price?.description || price?.price) &&\r\n                            <li className=\"price-product\" key={\"price\" + indexPrice}>\r\n                                {price?.description &&\r\n                                    <h4 className=\"description-price\">{price.description}</h4>}\r\n                                {price?.price &&\r\n                                    <span className=\"multiple-price\">{price.price}</span>}\r\n                            </li>\r\n                        )}\r\n                    </ul>\r\n                }\r\n            </div>\r\n            <div style={{ display: \"none\" }} ref={refShowMore} ></div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default ProductView;\r\n","import React, { useRef } from 'react'\r\n\r\nimport ProductView from './ProductView'\r\n\r\nimport ButtonViewMore from '../Buttons/ButtonViewMore';\r\n\r\nimport '../../styles/category.scss';\r\n\r\nconst CategoryView = function ({ category, isSubCategory }) {\r\n\r\n    const refShowProducts = useRef(null);\r\n\r\n    const hasImageCategory = category && category?.image && category.image.length > 0;\r\n    const hasDescriptionCategory = category && category?.description;\r\n    const showButton = false;\r\n\r\n    const showAllProducts = function () {\r\n\r\n        const hasProducts = category && category?.products && Array.isArray(category.products) && category.products.length > 0;\r\n        const hasSubCategories = category && category?.categories && Array.isArray(category.categories) && category.categories.length > 0;\r\n        return (\r\n            <ul className=\"list-products\">\r\n                {hasProducts &&\r\n                    category.products.map((product, indexProduct) =>\r\n                        <ProductView \r\n                        marginCategory={isSubCategory} \r\n                        product={product} \r\n                        key={\"product\" + indexProduct} \r\n                        />\r\n\r\n                    )}\r\n\r\n                {hasSubCategories &&\r\n                    category.categories.map((subcategory, indexSubCategory) => (\r\n                        <li className=\"subcategory\" key={\"subcategory\" + indexSubCategory}>\r\n                            <CategoryView \r\n                            category={subcategory}\r\n                            isSubCategory={isSubCategory+1}\r\n                            />\r\n                        </li>\r\n                    ))}\r\n\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <section className=\"category\">\r\n            <div className=\"info-category\">\r\n                {showButton &&\r\n                    <ButtonViewMore\r\n                        className=\"btn-view-more\"\r\n                        show={false}\r\n                        refElement={refShowProducts}\r\n                    />}\r\n                <h2 className=\"tittle-category\" >{category?.name}</h2>\r\n\r\n                {hasDescriptionCategory && <span className=\"description-category\">({category?.description})</span>}\r\n                \r\n                {hasImageCategory &&\r\n                    <img \r\n                    className=\"image-category\" \r\n                    alt={\"\"} \r\n                    src={\"/images/\"+category?.image} \r\n                    onError={event=>{event.target.style.display=\"none\";console.log(event.target)}}\r\n                    />\r\n                }\r\n            </div>\r\n\r\n            \r\n            <div style={{ opacity: 1 }} ref={refShowProducts} >{showAllProducts()}</div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default CategoryView;","import React from 'react';\r\nimport CategoryView from './CategoryView';\r\n\r\nimport '../../styles/page.scss';\r\n\r\nconst PageView = function ({ page, indexPage, show, maxPages  }) {\r\n\r\n    const position_page = maxPages - indexPage;\r\n    const existsAnyCategory = page && page?.categories && Array.isArray(page.categories) && page.categories.length > 0;\r\n\r\n    const pageStyle = {\r\n        position: 'absolute',\r\n        opacity: show ? 1 : 0,\r\n        transform: show ? \"rotateY(0deg)\" : \"rotateY(90deg)\",\r\n        transformOrigin: \"left\",\r\n        zIndex: 10 * parseInt(position_page, 10),\r\n    };\r\n\r\n    return (\r\n        <div id={'page' + indexPage} style={pageStyle} className=\"page\">\r\n            <h1 className=\"page-tittle\">{page?.tittle}</h1>\r\n            {existsAnyCategory &&\r\n                page?.categories.map((category, indexCategory) => \r\n                        <CategoryView\r\n                            category={category}\r\n                            key={\"category\" + indexCategory}\r\n                            isSubCategory={0}\r\n                        />\r\n                )}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default PageView;","export const ALERT = \"alerta\";\r\nexport const MENU =\"menu\";\r\nexport const PAGE = \"page\";\r\nexport const CATEGORY = \"category\";\r\nexport const PRODUCT = \"product\"\r\nexport const IMAGE = \"imagen\";\r\nexport const DESCRIPTION = \"descripcion\";\r\nexport const PRICES = \"precios\";\r\nexport const DETAILS = \"detalles\";\r\n","import { MENU } from '../GetComponents/Constants';\r\n\r\nexport const ACTIONS_MENU = {\r\n    ADD_PAGE: \"agregar pagina\",\r\n    DELETE_PAGE: \"borrar pagina\",\r\n    MOVE_PAGE: \"mover pagina\",\r\n    NEXT_PAGE: \"pagina siguiente\",\r\n    PREV_PAGE: \"pagina anterior\",\r\n    RESET_PAGE: \"reiniciar paginas\",\r\n    CHANGE_PAGE: \"cambiar pagina\",\r\n    MOVE_UP_PAGE: \"mover arriba la pagina\",\r\n    MOVE_DOWN_PAGE: \"mover para abajo la pagina\"\r\n}\r\nconst menuReducer = (state, action) => {\r\n\r\n    if (action.payload.element.name !== MENU) return state;\r\n\r\n    let indexPage, newPages, page, size;\r\n\r\n    switch (action.type) {\r\n\r\n        case ACTIONS_MENU.ADD_PAGE:\r\n\r\n            indexPage = action.payload.index;\r\n\r\n            return {\r\n                ...state,\r\n                pages: [\r\n                    ...state.pages.slice(0, indexPage + 1),\r\n                    { tittle: \"Titulo (\" + (state.pages.length + 1) + \")\", categories: [] },\r\n                    ...state.pages.slice(indexPage + 1)\r\n                ]\r\n            };\r\n\r\n        case ACTIONS_MENU.DELETE_PAGE:\r\n\r\n            indexPage = action.payload.index;\r\n\r\n            return {\r\n                ...state,\r\n                pages: state.pages.filter((page, index) => index !== indexPage)\r\n            };\r\n\r\n        case ACTIONS_MENU.MOVE_UP_PAGE:\r\n\r\n            newPages = Object.assign([], state.pages);\r\n            page = newPages[action.payload.index];\r\n            size = newPages.length;\r\n            newPages = newPages.filter((page, index) => index !== action.payload.index);\r\n            indexPage = action.payload.index > 0 ? action.payload.index - 1 : size - 1;\r\n            newPages.splice(indexPage, 0, page);\r\n\r\n            return {\r\n                ...state,\r\n                pages: newPages\r\n            }\r\n\r\n        case ACTIONS_MENU.MOVE_DOWN_PAGE:\r\n\r\n            newPages = Object.assign([], state.pages);\r\n            page = newPages[action.payload.index];\r\n            size = newPages.length;\r\n            newPages = newPages.filter((page, index) => index !== action.payload.index);\r\n            indexPage = action.payload.index < size - 1 ? action.payload.index + 1 : 0;\r\n            newPages.splice(indexPage, 0, page);\r\n\r\n            return {\r\n                ...state,\r\n                pages: newPages\r\n            }\r\n        case ACTIONS_MENU.RESET_PAGE:\r\n\r\n            return {\r\n                ...state,\r\n                actualPage: 0\r\n            }\r\n        case ACTIONS_MENU.CHANGE_PAGE:\r\n\r\n            return {\r\n                ...state,\r\n                actualPage: action.payload.changePage\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default menuReducer;","import React from 'react';\r\nimport { MENU } from '../GetComponents/Constants';\r\nimport { ACTIONS_MENU } from '../ReducersComponents/MenuReducer';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PageCategories = ({ pages, goToPage, clicks, setClicks, show }) => {\r\n\r\n    const getCategories = function (pages) {\r\n\r\n        let listCategories = [];\r\n\r\n        pages.map((page, indexPage) => {\r\n            const categories = page.categories;\r\n            return categories.map(category => listCategories.push({ name: category.name, page: indexPage+1 }));\r\n        });\r\n\r\n        return listCategories;\r\n    }\r\n\r\n    const listCategories = getCategories(pages);\r\n\r\n    return (\r\n        <div style={{\r\n            position:'absolute',\r\n            zIndex:show?(pages.length+2)*10:-1,\r\n            width:'100%',\r\n            height:'100%',\r\n            opacity:show?1:0,\r\n            transform: show? \"rotateY(0deg)\" : \"rotateY(90deg)\",\r\n            transformOrigin: \"left\"\r\n        }}\r\n        >\r\n            <h1 className=\"page-tittle\" >{pages[0].tittle}</h1>\r\n            {\r\n                listCategories.map((category, indexCategory) =>\r\n                    <div key={\"category\" + indexCategory}>\r\n                        <span\r\n                            onClick={event => { goToPage(category.page); if (clicks < 2) setClicks(clicks + 1); }}\r\n                            style={{ borderRadius: \"10px\", cursor: \"pointer\" }} className=\"tittle-category btn-not-pressed\">\r\n                            {category.name}\r\n                        </span>\r\n                        <br />\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            <br />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    goToPage(numPage) {\r\n        dispatch({\r\n            type: ACTIONS_MENU.CHANGE_PAGE,\r\n            payload: {\r\n                element: { name: MENU },\r\n                changePage: numPage\r\n            }\r\n\r\n        });\r\n        setTimeout(()=>window.scrollTo({ top: 0, behavior: 'smooth' }),0);\r\n    }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PageCategories);","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PageView from './PageView'\r\n// eslint-disable-next-line\r\n//import ButtonDraggPage from '../Buttons/ButtonDraggPage'\r\n//import ButtonChangePage from '../Buttons/ButtonChangePage';\r\n\r\nimport { ACTIONS_MENU } from '../ReducersComponents/MenuReducer';\r\nimport { MENU } from '../GetComponents/Constants';\r\n\r\nimport '../../styles/menu.scss'\r\nimport '../../styles/button.scss'\r\nimport PageCategories from './PageCategories';\r\n\r\nconst MenuView = function ({ pages, actualPage, resetPage }) {\r\n\r\n    const existsAnyPage = pages && Array.isArray(pages) && pages.length > 0\r\n    const existsPages = existsAnyPage && pages.length > 1;\r\n    const [clicks, setClicks] = useState(0);\r\n\r\n    return (\r\n        <div style={{ position: 'relative' }} className=\"menu\">\r\n\r\n            {existsPages && clicks === 1 &&\r\n                <span className=\"finger-pointing\"></span>\r\n            }\r\n\r\n            {(!Array.isArray(pages) || pages.length < 1) &&\r\n                <span className=\"waiting-text\">{\"No hay Paginas para mostrar \\n\"}\r\n                    <strong>(Comuniquelo Por favor)</strong>\r\n                </span>}\r\n\r\n            {existsAnyPage &&\r\n                <PageCategories\r\n                    pages={pages}\r\n                    clicks={clicks}\r\n                    setClicks={setClicks}\r\n                    show={actualPage === 0}\r\n                />\r\n            }\r\n\r\n            {existsAnyPage &&\r\n                <div className=\"pages-container\">\r\n                    {pages && pages.map((page, indexPage) => (\r\n                        <PageView\r\n                            page={page}\r\n                            indexPage={indexPage + 1}\r\n                            show={indexPage + 1 === actualPage}\r\n                            maxPages={pages.length}\r\n                            key={\"page\" + indexPage}\r\n                        >\r\n                        </PageView>\r\n                    ))}\r\n                </div>\r\n            }\r\n            {actualPage !== 0 &&\r\n                <span\r\n                    onClick={() => { resetPage(); if (clicks < 2) setClicks(clicks + 1); }}\r\n                    style={{ zIndex: (pages.length + 2) * 10 }}\r\n                    className=\"btn-start btn-not-pressed\">Inicio</span>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    pages: state?.pages,\r\n    actualPage: state?.actualPage\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    resetPage() {\r\n        dispatch({\r\n            type: ACTIONS_MENU.RESET_PAGE,\r\n            payload: { element: { name: MENU } }\r\n        });\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuView);","export const ACTIONS_PAGE = {\r\n    CHANGE_TITTLE: \"cambiar titulo\",\r\n    CHANGE_DESCRIPTION: \"cambiar descripcion\",\r\n    ADD_CATEGORY: \"agregar categoria\",\r\n    DELETE_CATEGORY: \"eliminar categoria\",\r\n    MOVE_UP_CATEGORY: \"mover arriba categoria\",\r\n    MOVE_DOWN_CATEGORY: \"mover abajo categoria\"\r\n}\r\n\r\n\r\nconst pageReducer = (statePage, action) => {\r\n\r\n    let index, category, size;\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case ACTIONS_PAGE.CHANGE_TITTLE:\r\n\r\n            statePage.tittle = action.payload.text;\r\n\r\n            return statePage;\r\n\r\n        case ACTIONS_PAGE.ADD_CATEGORY:\r\n\r\n            index = action.payload.index===undefined ? -1 : action.payload.index;\r\n\r\n            statePage.categories.splice(index+1, 0,\r\n                {\r\n                    name: \"Nueva Categoria\",\r\n                    description: \"\",\r\n                    products: [],\r\n                    categories: []\r\n                });\r\n\r\n            return statePage;\r\n\r\n        case ACTIONS_PAGE.DELETE_CATEGORY:\r\n\r\n            index = action.payload.index;\r\n            statePage.categories = statePage.categories.filter((category, indexCategory) => indexCategory !== index);\r\n\r\n            return statePage;\r\n\r\n        case ACTIONS_PAGE.MOVE_UP_CATEGORY:\r\n\r\n            index = action.payload.index;\r\n            category = statePage.categories[index];\r\n            size = statePage.categories.length;\r\n\r\n            statePage.categories = statePage.categories.filter((category, indexCategory) => indexCategory !== index);\r\n\r\n            statePage.categories.splice(index > 0 ? index - 1 : size - 1, 0, category);\r\n\r\n            return statePage;\r\n\r\n        case ACTIONS_PAGE.MOVE_DOWN_CATEGORY:\r\n\r\n            index = action.payload.index;\r\n            category = statePage.categories[index];\r\n            size = statePage.categories.length;\r\n\r\n            statePage.categories = statePage.categories.filter((category, indexCategory) => indexCategory !== index);\r\n\r\n            statePage.categories.splice(index < size - 1 ? index + 1 : 0, 0, category);\r\n\r\n            return statePage;\r\n\r\n        default:\r\n\r\n            return statePage;\r\n    }\r\n}\r\n\r\nexport default pageReducer;","export const ACTIONS_CATEGORY = {\r\n    CHANGE_NAME: \"cambiar nombre categoria\",\r\n    CHANGE_DESCRIPTION: \"cambiar descripcion categoria\",\r\n    ADD_PRODUCT: \"agregar producto\",\r\n    DELETE_PRODUCT: \"eliminar producto\",\r\n    ADD_SUBCATEGORY: \"agregar subcategoria\",\r\n    DELETE_SUBCATEGORY: \"eliminar subcategoria\",\r\n    MOVE_UP_SUBCATEGORY: \"mover arriba subcategoria\",\r\n    MOVE_DOWN_SUBCATEGORY: \"mover abajo subcategoria\",\r\n    MOVE_UP_PRODUCT: \"mover arriba producto\",\r\n    MOVE_DOWN_PRODUCT: \"mover abajo producto\"\r\n}\r\n\r\n\r\n\r\nconst categoryReducer = (stateCategory, action) => {\r\n\r\n    let index, subcategory, product, size;\r\n\r\n    switch (action.type) {\r\n\r\n        case ACTIONS_CATEGORY.CHANGE_NAME:\r\n\r\n            stateCategory.name = action.payload.text;\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.CHANGE_DESCRIPTION:\r\n\r\n            stateCategory.description = action.payload.text;\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.ADD_PRODUCT:\r\n\r\n            index = action?.payload?.index === undefined ? -1 : action.payload.index;\r\n\r\n            if (!stateCategory.products)\r\n                stateCategory.products = [];\r\n\r\n            stateCategory.products.splice(index + 1, 0,\r\n                {\r\n                    name: \"Nuevo Producto \",\r\n                    details: \"\",\r\n                    description: \"\",\r\n                    prices: [],\r\n                    images: []\r\n                }\r\n            );\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.DELETE_PRODUCT:\r\n\r\n            stateCategory.products = stateCategory.products.filter((product, indexProduct) => indexProduct !== action.payload.index);\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.ADD_SUBCATEGORY:\r\n\r\n            index = !action.payload.index ? -1 : action.payload.index;\r\n\r\n            if (!stateCategory.categories)\r\n                stateCategory.categories = [];\r\n\r\n            stateCategory.categories.splice(index + 1, 0,\r\n                {\r\n                    name: \"Subcategoria\",\r\n                    description: \"\",\r\n                    products: [],\r\n                    categories: []\r\n                }\r\n            );\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.DELETE_SUBCATEGORY:\r\n\r\n            stateCategory.categories = stateCategory.categories.filter((subcategory, indexSubCategory) => indexSubCategory !== action.payload.index);\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.MOVE_UP_PRODUCT:\r\n\r\n            index = action.payload.index;\r\n            product = stateCategory.products[index];\r\n            size = stateCategory.products.length;\r\n\r\n            stateCategory.products = stateCategory.products.filter((product, indexProduct) => indexProduct !== index);\r\n\r\n            stateCategory.products.splice(index > 0 ? index - 1 : size - 1, 0, product);\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.MOVE_DOWN_PRODUCT:\r\n\r\n            index = action.payload.index;\r\n            product = stateCategory.products[index];\r\n            size = stateCategory.products.length;\r\n\r\n            stateCategory.products = stateCategory.products.filter((product, indexProduct) => indexProduct !== index);\r\n\r\n            stateCategory.products.splice(index < size - 1 ? index + 1 : 0, 0, product);\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.MOVE_UP_SUBCATEGORY:\r\n\r\n            index = action.payload.index;\r\n            subcategory = stateCategory.categories[index];\r\n            size = stateCategory.categories.length;\r\n\r\n            stateCategory.categories = stateCategory.categories.filter((subcategory, indexSubCategory) => indexSubCategory !== index);\r\n\r\n            stateCategory.categories.splice(index > 0 ? index - 1 : size - 1, 0, subcategory);\r\n\r\n            return stateCategory;\r\n\r\n        case ACTIONS_CATEGORY.MOVE_DOWN_SUBCATEGORY:\r\n\r\n            index = action.payload.index;\r\n            subcategory = stateCategory.categories[index];\r\n            size = stateCategory.categories.length;\r\n\r\n\r\n            stateCategory.categories = stateCategory.categories.filter((subcategory, indexSubCategory) => indexSubCategory !== index);\r\n\r\n            stateCategory.categories.splice(index < size - 1 ? index + 1 : 0, 0, subcategory);\r\n\r\n            return stateCategory;\r\n\r\n        default:\r\n\r\n            return stateCategory;\r\n    }\r\n}\r\n\r\nexport default categoryReducer;","\r\nexport const ACTIONS_PRODUCT = {\r\n\r\n    CHANGE_NAME: \"cambiar nombre producto\",\r\n    CHANGE_DESCRIPTION: \"cambiar descripcion\",\r\n    CHANGE_DETAILS: \"cambiar detalles\",\r\n    CHANGE_PRICES: {\r\n        CHANGE_DESCRIPTION: \"cambiar descripcion precio\",\r\n        CHANGE_PRICE: \"cambiar precio de descripcion\"\r\n    },\r\n    ADD_PRICE: \"agregar precio\",\r\n    ADD_IMAGE: \"agregar imagen\",\r\n    DELETE_IMAGE: \"eliminar imagen\",\r\n    MOVE_UP_IMAGE: \"mover arriba imagen\",\r\n    MOVE_DOWN_IMAGE: \"mover abajo imagen\"\r\n}\r\n\r\nconst productReducer = (stateProduct, action) => {\r\n\r\n    let indexPrice, text, indexImage, srcImage, size;\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case ACTIONS_PRODUCT.CHANGE_NAME:\r\n\r\n            stateProduct.name = action.payload.text;\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.CHANGE_DESCRIPTION:\r\n\r\n            stateProduct.description = action.payload.text;\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.CHANGE_DETAILS:\r\n\r\n            stateProduct.details = action.payload.text;\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.ADD_PRICE:\r\n\r\n            if (!stateProduct.prices)\r\n                stateProduct.prices = [];\r\n\r\n            stateProduct.prices.push({ description: \"PRICE\", price: 0 })\r\n\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.CHANGE_PRICES.CHANGE_DESCRIPTION:\r\n\r\n            indexPrice = action.payload.element.indexPrice;\r\n            text = action.payload.text;\r\n\r\n            if (!isNaN(indexPrice))\r\n                stateProduct.prices[indexPrice].description = text;\r\n\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.CHANGE_PRICES.CHANGE_PRICE:\r\n\r\n            indexPrice = action.payload.element.indexPrice;\r\n            text = action.payload.text;\r\n\r\n            //Si no hay ningun precio, entonces lo eliminamos de la lista de precios\r\n            if (!text.length)\r\n                stateProduct.prices = stateProduct.prices.filter((price, index) => index !== indexPrice)\r\n            else if (!isNaN(indexPrice))\r\n                stateProduct.prices[indexPrice].price = text;\r\n\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.ADD_IMAGE:\r\n\r\n            srcImage = action.payload.src;\r\n\r\n            if (!stateProduct?.images)\r\n                stateProduct.images = []\r\n\r\n            stateProduct.images.push(srcImage)\r\n\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.DELETE_IMAGE:\r\n\r\n            indexImage = action.payload.index;\r\n\r\n            stateProduct.images = stateProduct.images.filter((src, index) => index !== indexImage)\r\n\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.MOVE_UP_IMAGE:\r\n\r\n            indexImage = action.payload.index;\r\n            srcImage = stateProduct.images[indexImage];\r\n            size = stateProduct.images.length;\r\n\r\n            stateProduct.images = stateProduct.images.filter((src, index) => indexImage !== index);\r\n\r\n            stateProduct.images.splice(indexImage > 0 ? indexImage - 1 : size - 1, 0, srcImage);\r\n\r\n            return stateProduct;\r\n\r\n        case ACTIONS_PRODUCT.MOVE_DOWN_IMAGE:\r\n\r\n            indexImage = action.payload.index;\r\n            srcImage = stateProduct.images[indexImage];\r\n            size = stateProduct.images.length;\r\n\r\n            stateProduct.images = stateProduct.images.filter((src, index) => indexImage !== index);\r\n\r\n            stateProduct.images.splice(indexImage < size - 1 ? indexImage + 1 : 0, 0, srcImage);\r\n\r\n            return stateProduct;\r\n\r\n        default:\r\n\r\n            return stateProduct;\r\n    }\r\n};\r\n\r\nexport default productReducer;","import { ALERT, MENU, PAGE, CATEGORY, PRODUCT } from '../GetComponents/Constants';\r\n\r\nimport menuReducer from './MenuReducer';\r\nimport pageReducer from './PageReducer';\r\nimport categoryReducer from './CategoryReducer';\r\nimport productReducer from './ProductReducer';\r\n\r\n/*Ente encargado de distribuir la porcion del estado que va a cambiar a cada reducerComponent*/\r\n\r\nconst getHierarchicalArray = function (element) {\r\n    const hierarchicalArray = []\r\n    let auxElement = Object.assign({}, element);\r\n    while (auxElement?.parent?.name !== MENU) {\r\n        hierarchicalArray.push(auxElement.index);\r\n        auxElement = auxElement.parent;\r\n    }\r\n    hierarchicalArray.push(auxElement.index)\r\n    return hierarchicalArray;\r\n}\r\n\r\nconst setCategoryPage = function (page , category , hierarchicalArray) {\r\n\r\n    let actualCategory = page.categories;\r\n    let indexCategory = hierarchicalArray.pop();\r\n\r\n    while (actualCategory && hierarchicalArray.length > 0) {\r\n        actualCategory = actualCategory[indexCategory].categories;\r\n        indexCategory = hierarchicalArray.pop();\r\n    }\r\n    actualCategory[indexCategory] = category;\r\n}\r\n\r\n//Metodo encargado de recorrer el arbol de subcategorias hasta encontrar la que corresponde\r\nconst loadCategory = function (pages, category, element) {\r\n\r\n    //Generamos un array que contendra las posiciones en la estructura de datos\r\n    const hierarchicalArray = getHierarchicalArray(element)\r\n    \r\n    //Lo cargamos con las posiciones que se extrajeron y se cargan a la pagina\r\n    const indexPage = hierarchicalArray.pop()\r\n    const page = pages[indexPage]\r\n\r\n    setCategoryPage(page , category , hierarchicalArray)\r\n}\r\n\r\n\r\nconst loadProduct = function (pages, product, element) {\r\n\r\n    //Generamos un array que contendra las posiciones en la estructura de datos\r\n    const hierarchicalArray = getHierarchicalArray(element)\r\n\r\n    const indexPage = hierarchicalArray.pop()\r\n    const page = pages[indexPage]\r\n    const indexProduct = hierarchicalArray.shift()\r\n\r\n    let actualCategory = page.categories;\r\n    let indexCategory = hierarchicalArray.pop();\r\n\r\n    while (actualCategory && hierarchicalArray.length > 0) {\r\n        actualCategory = actualCategory[indexCategory].categories;\r\n        indexCategory = hierarchicalArray.pop();\r\n    }\r\n    actualCategory[indexCategory].products[indexProduct] = product;\r\n}\r\n\r\n\r\nconst globalReducer = (state, action) => {\r\n\r\n    const element = action.payload.element;\r\n\r\n    let newPages, categoryToChange, productToChange;\r\n\r\n    if (!element) return state;\r\n\r\n    switch (element.name) {\r\n\r\n        \r\n        case ALERT:\r\n            return {\r\n                ...state,\r\n                activeAlert: action.payload.alert\r\n            }\r\n\r\n        case MENU:\r\n\r\n            return menuReducer(state, action);\r\n\r\n        case PAGE:\r\n\r\n            newPages = Object.assign([], state.pages)\r\n            \r\n            newPages[element.index] = pageReducer(element.json, action);\r\n\r\n            return {\r\n                ...state,\r\n                pages: newPages\r\n            };\r\n\r\n        case CATEGORY:\r\n\r\n\r\n            newPages = Object.assign([], state.pages)\r\n\r\n            categoryToChange = categoryReducer(Object.assign({}, element.json), action);\r\n\r\n            loadCategory(newPages, categoryToChange, element)\r\n\r\n            return {\r\n                ...state,\r\n                pages: newPages\r\n            }\r\n\r\n        case PRODUCT:\r\n\r\n            newPages = Object.assign([], state.pages);\r\n\r\n            productToChange = productReducer(Object.assign({}, element.json), action);\r\n            \r\n            loadProduct(newPages, productToChange, element)\r\n\r\n            return {\r\n                ...state,\r\n                pages: newPages\r\n            }\r\n\r\n        default:\r\n\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport default globalReducer;","import { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport {  createStore } from 'redux';\n\nimport { fetchData } from './components/GetComponents/Getters';\n\nimport MenuView from \"./components/ViewComponents/MenuView\";\n\n//import MenuEdit from \"./components/EditComponents/MenuEdit\";\n\nimport globalReducer from './components/ReducersComponents/GlobalReducer';\n\nimport './styles/app.scss';\n\nconst App = function () {\n\n  const [data, setData] = useState([]);\n  \n   useEffect(() => {fetchData(setData)},[])\n\n  const appReducer = (state = { ...data, actualPage: 0 }, action) => {\n    return action.payload ? globalReducer(state,action) : state;\n  }\n  \n  return (\n    <>\n      {data && data?.pages &&\n        <Provider store={createStore(appReducer)}>\n          <MenuView></MenuView>\n        </Provider>}\n      {(!data || !data?.pages) && <span className=\"waiting-text\">{\"Cargando Menu \\n\"}<strong>(Espere Por Favor)</strong></span>}\n    </>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}